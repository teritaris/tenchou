[
null,
{"id":1,"list":[{"code":355,"indent":0,"parameters":["console.log(\"init\");"]},{"code":655,"indent":0,"parameters":["// SHI-SU枚数取得稼働フラグ"]},{"code":655,"indent":0,"parameters":["$gameSwitches.setValue(2, true)"]},{"code":655,"indent":0,"parameters":["// 環境"]},{"code":655,"indent":0,"parameters":["$gameVariables.setValue(2, \"testnet\");"]},{"code":655,"indent":0,"parameters":["// 環境情報を取得"]},{"code":655,"indent":0,"parameters":["// 開発用"]},{"code":655,"indent":0,"parameters":["if($gameVariables.value(2) == \"testnet\"){"]},{"code":655,"indent":0,"parameters":["    // ネットワークタイプ(パラメータでネットワークタイプ切り替えるAPIで使う)"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(2, 2);"]},{"code":655,"indent":0,"parameters":["    // 使用するノードURL"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(3,"]},{"code":655,"indent":0,"parameters":["        \"https://sym-test-03.opening-line.jp:3001\")"]},{"code":655,"indent":0,"parameters":["    // generationHash"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(4,"]},{"code":655,"indent":0,"parameters":["        \"49D6E1CE276A85B70EAFE52349AACCA389302E7A9754BCF1221E79494FC665A4\")"]},{"code":655,"indent":0,"parameters":["    // epochAdjustment"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(5,"]},{"code":655,"indent":0,"parameters":["        \"1667250467\")"]},{"code":655,"indent":0,"parameters":["    // currencyMosaicId（symbol.xym）送金トランザクションで使う"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(6,"]},{"code":655,"indent":0,"parameters":["        \"72C0212E67A08BCE\")"]},{"code":655,"indent":0,"parameters":["    // APIサーバ・ドメイン"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(7,"]},{"code":655,"indent":0,"parameters":["        \"https://symbol-common.teritaris.net\")"]},{"code":655,"indent":0,"parameters":["    // プレイヤーアドレス ゲーム内で入力する用"]},{"code":655,"indent":0,"parameters":["    // 未入力は0"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(10, 0)"]},{"code":655,"indent":0,"parameters":["    // サンプルアカウント"]},{"code":655,"indent":0,"parameters":["    // $gameVariables.setValue(11, \"TDX6VBX2WL72GD5SOKR4PSEQMKU6IFBMWL7363I\")"]},{"code":655,"indent":0,"parameters":["    // revoke mosaicID"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(12,\"026009F82227E9E6\")"]},{"code":655,"indent":0,"parameters":["}else{"]},{"code":655,"indent":0,"parameters":["    // ネットワークタイプ(パラメータでネットワークタイプ切り替えるAPIで使う)"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(1, 2);"]},{"code":655,"indent":0,"parameters":["    // 使用するノードURL"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(3,"]},{"code":655,"indent":0,"parameters":["        \"https://00fabf14.xym.stir-hosyu.com:3001\")"]},{"code":655,"indent":0,"parameters":["    // generationHash"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(4,"]},{"code":655,"indent":0,"parameters":["        \"57F7DA205008026C776CB6AED843393F04CD458E0AA2D9F1D5F31A402072B2D6\")"]},{"code":655,"indent":0,"parameters":["    // epochAdjustment"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(5,"]},{"code":655,"indent":0,"parameters":["        \"1615853185\")"]},{"code":655,"indent":0,"parameters":["    // currencyMosaicId（symbol.xym）送金トランザクションで使う"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(6,"]},{"code":655,"indent":0,"parameters":["        \"6BED913FA20223F8\")"]},{"code":655,"indent":0,"parameters":["    // APIサーバ・ドメイン"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(7,"]},{"code":655,"indent":0,"parameters":["        \"https://symbol-common.teritaris.net\")"]},{"code":655,"indent":0,"parameters":["    // プレイヤーアドレス"]},{"code":655,"indent":0,"parameters":["    $gameVariables.setValue(10, 0)"]},{"code":655,"indent":0,"parameters":["    // サンプルアカウント"]},{"code":655,"indent":0,"parameters":["    // $gameVariables.setValue(11, \"NCHRCR6RLU3VWUO4MRDBPD2AQBKHWY5TWRNVYVY\")"]},{"code":655,"indent":0,"parameters":["    // revoke mosaicID"]},{"code":655,"indent":0,"parameters":["    // $gameVariables.setValue(12,\"525335B0516D5CCC\")"]},{"code":655,"indent":0,"parameters":["}"]},{"code":0,"indent":0,"parameters":[]}],"name":"変数初期化","switchId":1,"trigger":0},
{"id":2,"list":[{"code":355,"indent":0,"parameters":["let symbol = require(\"/node_modules/symbol-sdk\");"]},{"code":655,"indent":0,"parameters":["let nodeUrl = $gameVariables.value(3);"]},{"code":655,"indent":0,"parameters":["const getMosaicAmount = async (address, mosaicId) => {"]},{"code":655,"indent":0,"parameters":["    const repositoryFactoryHttp = new symbol.RepositoryFactoryHttp(nodeUrl)"]},{"code":655,"indent":0,"parameters":["    const accountRepository = repositoryFactoryHttp.createAccountRepository();"]},{"code":655,"indent":0,"parameters":["    let unresolvedAddress = symbol.Address.createFromRawAddress(address);"]},{"code":655,"indent":0,"parameters":["    let account = await accountRepository.getAccountInfo(unresolvedAddress).toPromise();"]},{"code":655,"indent":0,"parameters":["    let mosaic = account.mosaics.find(mosaic => mosaic.id.toHex() === mosaicId);"]},{"code":655,"indent":0,"parameters":[""]},{"code":655,"indent":0,"parameters":["    // 持ってなかったら表示用に0をセットしとく"]},{"code":655,"indent":0,"parameters":["    let amount = 0;"]},{"code":655,"indent":0,"parameters":["    if (mosaic !== undefined) {"]},{"code":655,"indent":0,"parameters":["        amount = Number(mosaic.amount.toString());"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["    console.log(amount);"]},{"code":655,"indent":0,"parameters":["    return amount;"]},{"code":655,"indent":0,"parameters":["}"]},{"code":655,"indent":0,"parameters":["(async () => {"]},{"code":655,"indent":0,"parameters":["    // アドレスが正しく登録されているかチェック"]},{"code":655,"indent":0,"parameters":["    if($gameSwitches.value(1) == true){"]},{"code":655,"indent":0,"parameters":["        // ゲームコイン枚数を取得"]},{"code":655,"indent":0,"parameters":["        $gameVariables.setValue(21, await getMosaicAmount($gameVariables.value(10), $gameVariables.value(12)));"]},{"code":655,"indent":0,"parameters":["    } else {"]},{"code":655,"indent":0,"parameters":["        // されてない場合は0を表示"]},{"code":655,"indent":0,"parameters":["        $gameVariables.setValue(21, 0)"]},{"code":655,"indent":0,"parameters":["    }"]},{"code":655,"indent":0,"parameters":["})();"]},{"code":655,"indent":0,"parameters":["console.log(\"SHISU Check\")"]},{"code":230,"indent":0,"parameters":[300]},{"code":0,"indent":0,"parameters":[]}],"name":"SHISU枚数セット","switchId":2,"trigger":2},
{"id":3,"list":[{"code":0,"indent":0,"parameters":[]}],"name":"","switchId":1,"trigger":0},
{"id":4,"list":[{"code":0,"indent":0,"parameters":[]}],"name":"","switchId":1,"trigger":0}
]